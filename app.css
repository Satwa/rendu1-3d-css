*{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}
html, body{
    background: #f9e2b3;
    font-family: sans-serif;
}

h1{
    text-align: center;
    margin: 20px;
    color: #da7a4e;
}

.machine_container{
    position: absolute;
    left: calc(50% - 450px);
    top: calc(50% - 250px);


    background: #e2ba7d;
    width: 900px;
    height: 500px;
    perspective: 2000px;

    
    
    /* transform: scale(.8); */
}
.machine_container *{
    transform-style: preserve-3d;
}

.machine_door_container{
    position: absolute;
    top:0;
    left:0;
    bottom: 0;
    right: 200px;
    transform: rotateY(0deg);
    transform-origin: left center;
    transition: transform 1s;
}
.machine_door_container.is-open{
    transform: rotateY(-90deg);
}

.machine_door_front{
    position: absolute;
    top:0;
    left:0;
    bottom: 0;
    right: 0;
    border: 60px solid #7e7d8e;
    background: rgba(255, 255, 255, .6);
    /* transform: rotateY(-90deg) translateZ(calc(700px / 2)); */
}
.machine_door_back{
    position: absolute;
    top:0;
    left:0;
    bottom: 0;
    right: 0;
    border: 60px solid #383748;
    background: rgba(255, 255, 255, .6);
    transform: rotateY(180deg) translateZ(20px);
    /* backface-visibility: hidden; */
}
.machine_door_slice, .machine_door_backslice{
    position: absolute;
    width: 20px;
    height: 100%;
}
.machine_door_bottomslice, .machine_door_topslice{
    position: absolute;
    height: 20px;
    width: 100%;
}

.machine_door_slice{
    background: #6a697a;
    transform: rotateY(90deg) translateX(10px) translateZ(690px);
}
.machine_door_backslice{
    background: #6a697a;
    transform: rotateY(90deg) translateX(10px) translateZ(0);
}

.machine_door_topslice{
    background: #6a697a;
    transform: rotateX(90deg) translateY(-10px) translateZ(0);
}

.machine_door_bottomslice{
    background: #6a697a;
    transform: rotateX(90deg) translateY(-10px) translateZ(-490px);
}



/*

    MACHINE DEPTH

*/

.machine_depth{
    position: absolute;
    left: 60px;
    top: 60px;
    right: 260px;
    bottom: 60px;
    /* background: rgba(255, 0, 0, .3); */
    
    /* 580 x 380 */
    perspective: -580px;
    z-index: -1;

    --depth-width: 580px;
    --depth-height: 380px;
}

.machine_depth_left, .machine_depth_right, .machine_depth_top, .machine_depth_bottom, .machine_depth_back{
    position: absolute;
    top:0;
    left:0;
    bottom: 0;
    right: 0;
    background: rgba(0, 0, 0, .3);
    border: 1px solid #000;
}

.machine_depth_left{
    transform: rotateY(90deg) translateZ(-290px) translateX(calc(var(--depth-width) / 2));
    border-left: 30px solid #000;
}

.machine_depth_right{
    transform: rotateY(-90deg) translateZ(-290px) translateX(calc(var(--depth-width) / -2));
    border-right: 60px solid #000;
}

.machine_depth_top{
    height: 580px;
    transform: rotateX(-90deg) translateZ(calc(var(--depth-width) / -2)) translateY(calc(var(--depth-width) / 2));
    border-top: 60px solid #000;
}

.machine_depth_bottom{
    height: 580px;
    transform: rotateX(-90deg) translateZ(calc(var(--depth-width) / 6.5)) translateY(calc(var(--depth-width) / 2));
    border-top: 60px solid #000;
}

.machine_depth_back{
    transform: rotateY(0deg) translateZ(calc(var(--depth-width) / -1));
}

.machine_tray{
    position: absolute;
    top: calc(50% - 150px);
    left: calc(50% - 150px);
    width: 300px;    
    height: 300px;    
    border-radius: 50%;
    background: #cccccc;

    animation-name: rotate-inside-chamber;
    animation-duration: 20s;
    animation-iteration-count: infinite;
    animation-fill-mode: both;
    animation-play-state: paused;
}
.machine_tray.is-active{
    animation-play-state: running;
}

.machine_tray > div{
    position: absolute;
    left: calc(50% - 60px);
    top: calc(50% - 150px);

    transform: rotateX(90deg) translateY(-150px);

    width: 120px;
    height: 300px;
    background: red;
}

/*

    COLUMN

*/
.machine_column{
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    background: #4a384b;
    color: white;
    padding: 20px;
    font-size: 20px;
    width: 200px;
    z-index: -1;
}

.time_screen{
    position: absolute;
    top: 20px;
    left: 20px;
    right: 20px;
    height: 60px;
    background: rgba(0, 0, 0, .4);
    color: #00b297;
    padding: 20px;
    overflow: hidden;
}


.time_selector{
    position: absolute;
    top: 100px;
    bottom: 100px;
    left: 20px;
    right: 20px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
}
.time_selector div{
    width: 35px;
    height: 35px;
    margin: 5px;
    line-height: 35px;
    text-align: center;
    background: rgba(255, 255, 255, .3);
    cursor: pointer;
}
.time_selector div.time_selector_empty{
    background: none;
    cursor: default;
}
.time_selector div:not(.time_selector_empty):hover{
    -webkit-box-shadow: inset 0px 0px 22px 0px rgba(0,0,0,.3);
    -moz-box-shadow: inset 0px 0px 22px 0px rgba(0,0,0,.3);
    box-shadow: inset 0px 0px 22px 0px rgba(0,0,0,.3);
}


.door_opener{
    position: absolute;
    bottom: 20px;
    left: 20px;
    right: 20px;
    height: 60px;
    background: #6d5a6e;
    /* border: 5px solid #9f45a3; */
    transition: box-shadow .1s;
    cursor: pointer;
    will-change: box-shadow;
}

.door_opener:hover{
    -webkit-box-shadow: inset 0px 0px 22px 0px rgba(0,0,0,.3);
    -moz-box-shadow: inset 0px 0px 22px 0px rgba(0,0,0,.3);
    box-shadow: inset 0px 0px 22px 0px rgba(0,0,0,.3);
}

.door_opener:active{
    -webkit-box-shadow: inset 0px 0px 22px 0px rgba(0,0,0,0.75);
    -moz-box-shadow: inset 0px 0px 22px 0px rgba(0,0,0,0.75);
    box-shadow: inset 0px 0px 22px 0px rgba(0,0,0,0.75);
}

/**

    KEYFRAMES

**/

@keyframes rotate-inside-chamber{
    0%{
        transform: rotate(0deg)
    }
    50%{
        transform: rotate(180deg)
    }
    100%{
        transform: rotate(360deg);
    }
}